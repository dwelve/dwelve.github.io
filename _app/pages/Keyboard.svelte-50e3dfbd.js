import{S as z,i as F,s as P,e as w,k as U,c as p,a as b,m as W,d as g,b as v,g as C,K as D,Y as S,Z as L,N as R,_ as X,F as I,X as Y,$ as Z,t as G,h as H,f as K,W as j}from"../chunks/vendor-75e02c3a.js";import{C as E}from"../chunks/Board-d683b669.js";const{Map:A}=Z;function M(n,s,t){const r=n.slice();return r[9]=s[t],r}function O(n,s,t){const r=n.slice();return r[12]=s[t],r}function V(n,s){let t,r=Q(s[12])+"",d,c,i;function h(){return s[6](s[12])}return{key:n,first:null,c(){t=w("div"),d=G(r),this.h()},l(e){t=p(e,"DIV",{class:!0,style:!0});var l=b(t);d=H(l,r),l.forEach(g),this.h()},h(){v(t,"class","cell svelte-1ugxror"),K(t,"background-color",B(s[0],s[12])),j(t,"wide",s[12]==="Del"),j(t,"wider",s[12]==="Enter"),this.first=t},m(e,l){C(e,t,l),D(t,d),c||(i=R(t,"click",h),c=!0)},p(e,l){s=e,l&1&&K(t,"background-color",B(s[0],s[12]))},d(e){e&&g(t),c=!1,i()}}}function q(n,s){let t,r=[],d=new A,c,i=s[9];const h=e=>e[12];for(let e=0;e<i.length;e+=1){let l=O(s,i,e),o=h(l);d.set(o,r[e]=V(o,l))}return{key:n,first:null,c(){t=w("div");for(let e=0;e<r.length;e+=1)r[e].c();c=U(),this.h()},l(e){t=p(e,"DIV",{class:!0});var l=b(t);for(let o=0;o<r.length;o+=1)r[o].l(l);c=W(l),l.forEach(g),this.h()},h(){v(t,"class","row svelte-1ugxror"),this.first=t},m(e,l){C(e,t,l);for(let o=0;o<r.length;o+=1)r[o].m(t,null);D(t,c)},p(e,l){s=e,l&7&&(i=s[9],r=S(r,l,h,1,s,i,d,t,L,V,c,O))},d(e){e&&g(t);for(let l=0;l<r.length;l+=1)r[l].d()}}}function J(n){let s,t=[],r=new A,d,c,i=n[1];const h=e=>e[9][0];for(let e=0;e<i.length;e+=1){let l=M(n,i,e),o=h(l);r.set(o,t[e]=q(o,l))}return{c(){s=w("div");for(let e=0;e<t.length;e+=1)t[e].c();this.h()},l(e){s=p(e,"DIV",{class:!0});var l=b(s);for(let o=0;o<t.length;o+=1)t[o].l(l);l.forEach(g),this.h()},h(){v(s,"class","keyboard svelte-1ugxror")},m(e,l){C(e,s,l);for(let o=0;o<t.length;o+=1)t[o].m(s,null);d||(c=R(window,"keydown",X(n[3])),d=!0)},p(e,[l]){l&7&&(i=e[1],t=S(t,l,h,1,e,i,r,s,L,q,null,M))},i:I,o:I,d(e){e&&g(s);for(let l=0;l<t.length;l+=1)t[l].d();d=!1,c()}}}function B(n,s){return n.get(s)}function Q(n){switch(n.toLowerCase()){case"del":return"\u21E6";case"enter":return"check";default:return n}}function x(n,s,t){let r,{game:d=[]}=s,{guessStates:c=[]}=s;const i=[["q","w","e","r","t","y","u","i","o","p"],[" ","a","s","d","f","g","h","j","k","l"],["Del","z","x","c","v","b","n","m","Enter"]],h=Y();function e(a){h("newLetter",{letter:a})}function l(a){let u=a.key,f=a.keyCode;f>=65&&f<=90?e(u):f===13?e("Enter"):f===8?e("Del"):(a.code==="ArrowUp"||a.code==="ArrowDown"||a.code==="ArrowLeft"||a.code==="ArrowRight"||a.code==="Space")&&e(a.code)}function o(a,u){let f=new Map;for(let _ of i)for(let k of _)f.set(k,"#888888");if(a===void 0||u===void 0||a===null||u===null)return f;for(let _=0;_<u.length;_++){let k=u[_],T=a[_];for(let y=0;y<k.length;y++){let m=k[y];switch(T[y].state){case E.POSSIBLE:f.set(m.letter,"#e5e100");break;case E.CORRECT:f.set(m.letter,"#00b400");break;case E.INCORRECT:f.set(m.letter,"#565656");break}}}return f.set(" ","#888888"),f}const N=a=>e(a);return n.$$set=a=>{"game"in a&&t(4,d=a.game),"guessStates"in a&&t(5,c=a.guessStates)},n.$$.update=()=>{n.$$.dirty&48&&t(0,r=o(d,c))},[r,i,e,l,d,c,N]}class le extends z{constructor(s){super();F(this,s,x,J,P,{game:4,guessStates:5})}}export{le as default};
